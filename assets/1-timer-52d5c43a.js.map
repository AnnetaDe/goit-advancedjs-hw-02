{"version":3,"file":"1-timer-52d5c43a.js","sources":["../../src/js/1-timer.js"],"sourcesContent":["export * from \"./1-timer.js\";\n\n// Описаний в документації https://flatpickr.js.org/\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst startBtn = document.querySelector(\"button[data-start]\");\nstartBtn.classList.add(\"button\");\nconst daysEl = document.querySelector(\"span[data-days]\");\nconst hoursEl = document.querySelector(\"span[data-hours]\");\nconst minutesEl = document.querySelector(\"span[data-minutes]\");\nconst secondsEl = document.querySelector(\"span[data-seconds]\");\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor(ms % day / hour);\n  // Remaining minutes\n  const minutes = Math.floor(ms % day % hour / minute);\n  // Remaining seconds\n  const seconds = Math.floor(ms % day % hour % minute / second);\n\n  return { days, hours, minutes, seconds };\n}\nfunction addZero(value) {\n  return String(value).padStart(2, \"0\");\n}\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  minDate: \"today\",   //я ще таке знайшла!!)\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n  }\n};\n\noptions.onClose = function(selectedDates, dateStr, instance) {\n  let userSelectedDate = selectedDates[0];\n  let currentDate = new Date();\n  const p = new Promise((resolve, reject) => {\n    if (userSelectedDate < currentDate) {\n      reject(\"error\");\n      iziToast.error({\n        title: \"ooops!\",\n        message: \"Thats a timer, not a time machine!\"\n      });\n    }\n    resolve(\"ok thats more optimistic\", userSelectedDate);\n  });\n\n  p\n    .then(result => {\n      console.log(result);\n    })\n    .catch(() => {\n      console.log(\"Error\");\n    });\n};\noptions.onOpen = function(selectedDates, dateStr, instance) {\n  iziToast.info({\n    title: \"Hey!\",\n    message: \"Please, select a future date\"\n  });\n};\n\nconst fp = flatpickr(\"#datetime-picker\", options);\n\nfunction startTimer() {\n  const targetDate = new Date(fp.selectedDates[0]);\n  const currentDate = new Date();\n  const deltaTime = targetDate - currentDate;\n  const timerId = setInterval(() => {\n    const currentDate = new Date();\n    const deltaTime = targetDate - currentDate;\n    const { days, hours, minutes, seconds } = convertMs(deltaTime);\n    daysEl.textContent = addZero(days);\n    hoursEl.textContent = addZero(hours);\n    minutesEl.textContent = addZero(minutes);\n    secondsEl.textContent = addZero(seconds);\n    if (deltaTime <= 999) {\n      clearInterval(timerId);\n    }\n  }, 1000);\n  \n  startBtn.disabled = true;\n}\n\n\n\n\nstartBtn.addEventListener(\"click\", () => {\n  if(fp.selectedDates[0]){\n    startTimer();\n  }else{\n    iziToast.error({\n      title: \"ooops!\",\n      message: \"Please, select a valid date\"\n    });\n  }\n \n});\n\n"],"names":["startBtn","daysEl","hoursEl","minutesEl","secondsEl","convertMs","ms","days","hours","minutes","seconds","addZero","value","options","selectedDates","dateStr","instance","userSelectedDate","currentDate","resolve","reject","iziToast","result","fp","flatpickr","startTimer","targetDate","timerId","deltaTime"],"mappings":"gDAWA,MAAMA,EAAW,SAAS,cAAc,oBAAoB,EAC5DA,EAAS,UAAU,IAAI,QAAQ,EAC/B,MAAMC,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAU,SAAS,cAAc,kBAAkB,EACnDC,EAAY,SAAS,cAAc,oBAAoB,EACvDC,EAAY,SAAS,cAAc,oBAAoB,EAE7D,SAASC,EAAUC,EAAI,CAOrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAMF,EAAK,MAAM,IAAI,EAElCG,EAAU,KAAK,MAAMH,EAAK,MAAM,KAAO,GAAM,EAE7CI,EAAU,KAAK,MAAMJ,EAAK,MAAM,KAAO,IAAS,GAAM,EAE5D,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CACA,SAASC,EAAQC,EAAO,CACtB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CACA,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAS,QACT,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,CAC7B,CACH,EAEAD,EAAQ,QAAU,SAASC,EAAeC,EAASC,EAAU,CAC3D,IAAIC,EAAmBH,EAAc,CAAC,EAClCI,EAAc,IAAI,KACZ,IAAI,QAAQ,CAACC,EAASC,IAAW,CACrCH,EAAmBC,IACrBE,EAAO,OAAO,EACdC,EAAS,MAAM,CACb,MAAO,SACP,QAAS,oCACjB,CAAO,GAEHF,EAAQ,2BAA4BF,CAAgB,CACxD,CAAG,EAGE,KAAKK,GAAU,CACd,QAAQ,IAAIA,CAAM,CACxB,CAAK,EACA,MAAM,IAAM,CACX,QAAQ,IAAI,OAAO,CACzB,CAAK,CACL,EACAT,EAAQ,OAAS,SAASC,EAAeC,EAASC,EAAU,CAC1DK,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,8BACb,CAAG,CACH,EAEA,MAAME,EAAKC,EAAU,mBAAoBX,CAAO,EAEhD,SAASY,GAAa,CACpB,MAAMC,EAAa,IAAI,KAAKH,EAAG,cAAc,CAAC,CAAC,EAGzCI,EAAU,YAAY,IAAM,CAEhC,MAAMC,EAAYF,EADE,IAAI,KAElB,CAAE,KAAAnB,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYL,EAAUuB,CAAS,EAC7D3B,EAAO,YAAcU,EAAQJ,CAAI,EACjCL,EAAQ,YAAcS,EAAQH,CAAK,EACnCL,EAAU,YAAcQ,EAAQF,CAAO,EACvCL,EAAU,YAAcO,EAAQD,CAAO,EACnCkB,GAAa,KACf,cAAcD,CAAO,CAExB,EAAE,GAAI,EAEP3B,EAAS,SAAW,EACtB,CAKAA,EAAS,iBAAiB,QAAS,IAAM,CACpCuB,EAAG,cAAc,CAAC,EACnBE,IAEAJ,EAAS,MAAM,CACb,MAAO,SACP,QAAS,6BACf,CAAK,CAGL,CAAC"}