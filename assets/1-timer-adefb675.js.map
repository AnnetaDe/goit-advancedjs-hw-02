{"version":3,"file":"1-timer-adefb675.js","sources":["../../src/js/1-timer.js"],"sourcesContent":["export * from \"./1-timer.js\";\n\n\nimport flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport iconError from '../img/icon-error.svg'\n\n\nconst inputElement = document.getElementById('datetime-picker')\nconst startBtnEl = document.querySelector('[data-start]')\nconst daysEl = document.querySelector('[data-days]')\nconst hoursEl = document.querySelector('[data-hours]')\nconst minutesEl = document.querySelector('[data-minutes]')\nconst secondsEl = document.querySelector('[data-seconds]')\n\nlet userSelectedDate = null;\n\nstartBtnEl.setAttribute('disabled', 'true')\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        if (selectedDates[0] < Date.now()) {\n            startBtnEl.setAttribute('disabled', 'true')\n\n            iziToast.show({\n                message: 'Please choose a date in the future',\n                backgroundColor: 'red',\n                theme: 'dark',\n                iconUrl: iconError,\n                position: 'topRight',\n            })\n\n        } else {\n            userSelectedDate = selectedDates[0]\n            startBtnEl.removeAttribute('disabled')\n\n        }\n    },\n};\nflatpickr(inputElement, options);\n\nstartBtnEl.addEventListener('click', () => {\n    startBtnEl.setAttribute('disabled', 'true');\n    inputElement.disabled = true;\n    \n    const timer = setInterval(() => {\n        const differenceTime = userSelectedDate - Date.now()\n        const { days, hours, minutes, seconds } = convertMs(differenceTime);\n        \n        daysEl.textContent = addStatZero(days)\n        hoursEl.textContent = addStatZero(hours)\n        minutesEl.textContent = addStatZero(minutes)\n        secondsEl.textContent = addStatZero(seconds)\n\n        if (differenceTime <= 0) {\n            clearInterval(timer)\n            startBtnEl.removeAttribute('disabled')\n            inputElement.disabled = false\n\n            daysEl.textContent = '00';\n            hoursEl.textContent = '00';\n            minutesEl.textContent = '00';\n            secondsEl.textContent = '00';\n        }\n    }, 1000)\n})\n\nfunction addStatZero(num) {\n    if (num >= 0 && num <= 9) {\n        return '0' + num\n    } else {\n        return num\n    }\n}\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n}"],"names":["inputElement","startBtnEl","daysEl","hoursEl","minutesEl","secondsEl","userSelectedDate","options","selectedDates","iziToast","iconError","flatpickr","timer","differenceTime","days","hours","minutes","seconds","convertMs","addStatZero","num","ms"],"mappings":"6FAYA,MAAMA,EAAe,SAAS,eAAe,iBAAiB,EACxDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EAEzD,IAAIC,EAAmB,KAEvBL,EAAW,aAAa,WAAY,MAAM,EAE1C,MAAMM,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACfA,EAAc,CAAC,EAAI,KAAK,IAAG,GAC3BP,EAAW,aAAa,WAAY,MAAM,EAE1CQ,EAAS,KAAK,CACV,QAAS,qCACT,gBAAiB,MACjB,MAAO,OACP,QAASC,EACT,SAAU,UAC1B,CAAa,IAGDJ,EAAmBE,EAAc,CAAC,EAClCP,EAAW,gBAAgB,UAAU,EAG5C,CACL,EACAU,EAAUX,EAAcO,CAAO,EAE/BN,EAAW,iBAAiB,QAAS,IAAM,CACvCA,EAAW,aAAa,WAAY,MAAM,EAC1CD,EAAa,SAAW,GAExB,MAAMY,EAAQ,YAAY,IAAM,CAC5B,MAAMC,EAAiBP,EAAmB,KAAK,IAAK,EAC9C,CAAE,KAAAQ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAc,EAElEX,EAAO,YAAciB,EAAYL,CAAI,EACrCX,EAAQ,YAAcgB,EAAYJ,CAAK,EACvCX,EAAU,YAAce,EAAYH,CAAO,EAC3CX,EAAU,YAAcc,EAAYF,CAAO,EAEvCJ,GAAkB,IAClB,cAAcD,CAAK,EACnBX,EAAW,gBAAgB,UAAU,EACrCD,EAAa,SAAW,GAExBE,EAAO,YAAc,KACrBC,EAAQ,YAAc,KACtBC,EAAU,YAAc,KACxBC,EAAU,YAAc,KAE/B,EAAE,GAAI,CACX,CAAC,EAED,SAASc,EAAYC,EAAK,CACtB,OAAIA,GAAO,GAAKA,GAAO,EACZ,IAAMA,EAENA,CAEf,CAEA,SAASF,EAAUG,EAAI,CAQnB,MAAMP,EAAO,KAAK,MAAMO,EAAK,KAAG,EAE1BN,EAAQ,KAAK,MAAOM,EAAK,MAAO,IAAI,EAEpCL,EAAU,KAAK,MAAQK,EAAK,MAAO,KAAQ,GAAM,EAEjDJ,EAAU,KAAK,MAASI,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAP,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C"}